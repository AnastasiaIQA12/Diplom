### **План автоматизации**

**Перечень автоматизируемых сценариев**

Корректными данными при заполнении полей ввода формы считаются:

Номер карты: цифры, 16 шт., в формате **** **** **** ****

Месяц: 01-12, но не ранее текущего месяца в случае, если указан текущий год

Год: последние две цифры порядкового номера года, не ранее текущего года, не более 5ти лет от текущего года

Владелец: буквенные символы латинского алфавита
CVC: цифры, 3 шт.

**Набор карт, представленный для тестирования (файл data.json):**
4444 4444 4444 4441, status APPROVED

4444 4444 4444 4442, status DECLINED

**Тестируемые СУБД:**
MySql
PostgreSQL

### 
**Тестовые сценарии**

**Позитивные сценарии**

_Оплата по карте со статусом APPROVED_

а)оплата по дебетовой карте
Номер карты 4444 4444 4444 4441, остальные поля заполнены корректными данными
Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком", в БД в payment_entity появилась запись со статусом APPROVED

б)выдача кредита по данным карты
Номер карты 4444 4444 4444 4441, остальные поля заполнены корректными данными
Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком", в БД в credit_request_entity появилась запись со статусом APPROVED

_Оплата по карте со статусом DECLINED_

а)оплата по дебетовой карте
Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными данными
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity появилась запись со статусом DECLINED

б)выдача кредита по данным карты
Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными данными
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в credit_request_entity появилась запись со статусом DECLINED

**Негативные сценарии**

_Несуществующая карта_

а)оплата по дебетовой карте
Номер карты 1111 1111 1111 1111, остальные поля заполнены корректными данными
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity новая запись не появилась

б)выдача кредита по данным карты
Номер карты 1111 1111 1111 1111, остальные поля заполнены корректными данными
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в credit_request_entity новая запись не появилась

_Неверный номер карты_

а)оплата по дебетовой карте
Номер карты 4444 4444 4444 444, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Номер карты появилось сообщение "Неверно указан формат карты", в БД в payment_entity новая запись не появилась

б)выдача кредита по данным карты
Номер карты 4444 4444 4444 444, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Номер карты появилось сообщение "Неверно указан формат карты", в БД в credit_request_entity новая запись не появилась

_Карта с истекшим сроком действия (месяц)_

а)оплата по дебетовой карте
Номер карты 4444 4444 4444 4441, указать предыдущий месяц, текущий год, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в payment_entity новая запись не появилась

б)выдача кредита по данным карты
Номер карты 4444 4444 4444 4441, указать предыдущий месяц, текущий год, остальные поля заполнены корректными значениями
Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в credit_request_entity новая запись не появилась

_Некорректный месяц_

а)оплата по дебетовой карте
Номер карты 4444 4444 4444 4441, в поле Месяц указать 00, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в payment_entity новая запись не появилась

б)выдача кредита по данным карты
Номер карты 4444 4444 4444 4441, в поле Месяц указать 00, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в credit_request_entity новая запись не появилась

_Карта с истекшим сроком действия (год)_

а)оплата по дебетовой карте
Номер карты 4444 4444 4444 4441, указать предыдущий год, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Год появилось сообщение об ошибке "Истёк срок действия карты", в БД в payment_entity новая запись не появилась

б)выдача кредита по данным карты
Номер карты 4444 4444 4444 4441, указать предыдущий год, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Год появилось сообщение об ошибке "Истёк срок действия карты", в БД в credit_request_entity новая запись не появилась

_Некорректный год_

а)оплата по дебетовой карте
Номер карты 4444 4444 4444 4441, в поле Год указать предыдущий год, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Год появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в payment_entity новая запись не появилась

б)выдача кредита по данным карты
Номер карты 4444 4444 4444 4441, в поле Год указать предыдущий, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Год появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в credit_request_entity новая запись не появилась

_Некорректное значение в поле Владелец_

а)оплата по дебетовой карте
Номер карты 4444 4444 4444 4441, в поле Владелец указать некорректные данные, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Владелец появилось сообщение об ошибке, в БД в payment_entity новая запись не появилась

б)выдача кредита по данным карты
Номер карты 4444 4444 4444 4441, в поле Владелец указать некорректные данные, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Владелец появилось сообщение об ошибке, в БД в credit_request_entity новая запись не появилась

_Некорректное значение в поле CVC/CVV_

а)оплата по дебетовой карте
Номер карты 4444 4444 4444 4441, в поле CVC/CVV указать 0, остальные поля заполнены корректными данными
Ожидаемый результат: под полем CVC/CVV появилось сообщение об ошибке "Неверно указан CVC/CVV", в БД в payment_entity новая запись не появилась

б)выдача кредита по данным карты
Номер карты 4444 4444 4444 4441, в поле CVC/CVV указать 0, остальные поля заполнены корректными данными
Ожидаемый результат: под полем CVC/CVV появилось сообщение об ошибке "Неверно указан CVC/CVV", в БД в credit_request_entity новая запись не появилась

**Перечень используемых инструментов с обоснованием выбора**

1. IDE - специальная среда разработки, необходимая для оптимизации работы
2. Java 11 - язык программирования для написания автотестов
3. Gradle - инструмент автоматизации сборки и управления зависимостями
4. JUnit5 — платформа для написания авто-тестов и их запуска
5. Selenide - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver, более удобный и простой в использовании, чем Selenium
6. Docker Compose - инструмент, позволяющий запускать мультиконтейнерные приложения, чтобы не устанавливать на компьютер необходимые для работы приложения Node.js и СУБД
7. Allure - фреймворк, предназначенный для создания отчетов, более наглядных, чем у Gradle

**Перечень и описание возможных рисков при автоматизации**
1. Из-за отсутствия ТЗ и какой-либо документации по работе сервиса трудно понять, как он должен работать и какое поведение сервиса можно считать ошибкой
2. Реальные данные могут отличаться от тестовых данных, в результате можно потерять отражение реальной статистики
3. Отсутствие data_test_id усложняет написание и поддержку тестов

**Интервальная оценка с учетом рисков (в часах)**

Настройка ПО - 5

Написание и отладка автотестов - 40

Заведение issue по итогам прогонов автотестов - 8

Устранение замечаний - 16

Подготовка отчета по итогам автоматизированного тестирования - 8

Подготовка отчета по итогам автоматизации - 8

Итого с учетом рисков: 85 часов

**План сдачи работ**

Автоматизация - 15.03.2021

Подготовка отчета по автоматизации - 20.03.2021